@import "tailwindcss";

/*
 * ═══════════════════════════════════════════════════════════════
 * OKLCH Seed-Based Color System
 *
 * Inspired by Linear's approach: 3 inputs generate the entire UI.
 * f(base, accent, contrast) → every color in the app
 *
 * Seeds are defined in :root and overridden per color scheme.
 * Derived tokens live in @theme using CSS Relative Color Syntax.
 * ═══════════════════════════════════════════════════════════════
 */

:root {
  /* ── Seed coordinates ── */
  --base-h: 55;
  --base-c: 0.002;
  --accent-h: 250;
  --accent-c: 0.18;

  /* ── Control ── */
  --dir: -1; /* light mode: surfaces darken to elevate */
  --contrast: 1;

  /* ── Composed seed colors ── */
  --base: oklch(0.985 var(--base-c) var(--base-h));
  --accent: oklch(0.55 var(--accent-c) var(--accent-h));

  /* ── Intent seeds ── */
  --danger: oklch(0.55 0.2 25);
  --warn: oklch(0.75 0.15 85);
  --success: oklch(0.55 0.17 155);
}

@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
    --dir: 1; /* dark mode: surfaces lighten to elevate */
    --base: oklch(0.15 var(--base-c) var(--base-h));
    --accent: oklch(0.7 var(--accent-c) var(--accent-h));
    --danger: oklch(0.7 0.18 25);
    --warn: oklch(0.8 0.14 85);
    --success: oklch(0.7 0.15 155);
  }
}

@theme {
  /* ── Fonts ── */
  --font-sans: "Inter Variable", sans-serif;
  --font-mono: "JetBrains Mono", monospace;
  --font-display: "Inter", sans-serif;

  /*
   * ═══════════════════════════════════════
   * SURFACES — Elevation layers from base
   * surface-0 = canvas
   * surface-1 = cards, panels
   * surface-2 = popovers, dropdowns, hover
   * surface-3 = active states on elevated
   * ═══════════════════════════════════════
   */
  --color-surface-0: var(--base);
  --color-surface-raised: oklch(from var(--base) calc(l - 0.015 * var(--dir) * var(--contrast)) c h);
  --color-surface-1: oklch(from var(--base) calc(l + 0.035 * var(--dir) * var(--contrast)) c h);
  --color-surface-2: oklch(from var(--base) calc(l + 0.07 * var(--dir) * var(--contrast)) c h);
  --color-surface-3: oklch(from var(--base) calc(l + 0.1 * var(--dir) * var(--contrast)) c h);

  /*
   * ═══════════════════════════════════════
   * TEXT — Hierarchy via lightness
   * Shares base hue+chroma for "same material" feel
   * ═══════════════════════════════════════
   */
  --text-color-primary: oklch(from var(--base) calc(l + 0.75 * var(--dir) * var(--contrast)) c h);
  --text-color-secondary: oklch(from var(--base) calc(l + 0.55 * var(--dir) * var(--contrast)) c h);
  --text-color-tertiary: oklch(from var(--base) calc(l + 0.4 * var(--dir) * var(--contrast)) c h);
  --text-color-inverse: var(--base);

  /*
   * ═══════════════════════════════════════
   * EDGES — Semi-transparent (Linear's "tactile" trick)
   * Adapts to any background they sit on
   * ═══════════════════════════════════════
   */
  --border-color-edge: oklch(from var(--base) calc(l + 0.75 * var(--dir)) c h / 0.12);
  --border-color-edge-subtle: oklch(from var(--base) calc(l + 0.75 * var(--dir)) c h / 0.06);
  --border-color-edge-strong: oklch(from var(--base) calc(l + 0.75 * var(--dir)) c h / 0.2);

  /*
   * ═══════════════════════════════════════
   * OUTLINE — Mirrors edge for consistency
   * ═══════════════════════════════════════
   */
  --outline-color-edge: oklch(from var(--base) calc(l + 0.75 * var(--dir)) c h / 0.12);

  /*
   * ═══════════════════════════════════════
   * FOCUS RING — Based on accent
   * ═══════════════════════════════════════
   */
  --ring-color-focus: var(--accent);
  --ring-color-focus-subtle: oklch(from var(--accent) l c h / 0.35);

  /*
   * ═══════════════════════════════════════
   * ACCENT — Brand/interactive color
   * ═══════════════════════════════════════
   */
  --color-accent: var(--accent);
  --color-accent-subtle: oklch(from var(--accent) l c h / 0.12);
  --color-accent-strong: oklch(from var(--accent) calc(l + 0.08 * var(--dir)) c h);
  --color-accent-on: oklch(0.99 0 0);

  /*
   * ═══════════════════════════════════════
   * DANGER
   * ═══════════════════════════════════════
   */
  --color-danger: var(--danger);
  --color-danger-subtle: oklch(from var(--danger) l c h / 0.12);
  --color-danger-strong: oklch(from var(--danger) calc(l + 0.08 * var(--dir)) c h);
  --color-danger-on: oklch(0.99 0 0);

  /*
   * ═══════════════════════════════════════
   * WARN
   * ═══════════════════════════════════════
   */
  --color-warn: var(--warn);
  --color-warn-subtle: oklch(from var(--warn) l c h / 0.12);
  --color-warn-strong: oklch(from var(--warn) calc(l + 0.08 * var(--dir)) c h);
  --color-warn-on: oklch(0.15 0 0);

  /*
   * ═══════════════════════════════════════
   * SUCCESS (actual green — not blue)
   * ═══════════════════════════════════════
   */
  --color-success: var(--success);
  --color-success-subtle: oklch(from var(--success) l c h / 0.12);
  --color-success-strong: oklch(from var(--success) calc(l + 0.08 * var(--dir)) c h);
  --color-success-on: oklch(0.99 0 0);

  /*
   * ═══════════════════════════════════════
   * SPECIAL PURPOSE
   * ═══════════════════════════════════════
   */
  --color-overlay: oklch(0 0 0 / 0.4);
  --color-inverse: oklch(from var(--base) calc(l + 0.8 * var(--dir) * var(--contrast)) c h);

  /* Terminal (forced dark regardless of mode) */
  --color-terminal: oklch(0.1 var(--base-c) var(--base-h));
  --color-terminal-text: oklch(0.65 var(--base-c) var(--base-h));
  --color-terminal-dim: oklch(0.45 var(--base-c) var(--base-h));

  /*
   * ═══════════════════════════════════════
   * TYPOGRAPHY
   * ═══════════════════════════════════════
   */
  --text-title-lg: var(--text-5xl);
  --text-title-lg--font-weight: 400;

  --text-title: var(--text-4xl);
  --text-title--font-weight: 400;

  --text-title-md: var(--text-2xl);
  --text-title-md--font-weight: 400;

  --text-title-sm: var(--text-xl);
  --text-title-sm--font-weight: 400;

  --text-copy-xl: var(--text-lg);
  --text-copy-xl--font-weight: 400;

  --text-copy-lg: var(--text-base);
  --text-copy-lg--font-weight: 400;

  --text-copy: var(--text-sm);
  --text-copy--font-weight: 400;

  --text-copy-sm: var(--text-xs);
  --text-copy-sm--font-weight: 400;
  --text-copy-sm--line-height: 1.1rem;

  --text-copy-xs: 0.625rem;
  --text-copy-xs--font-weight: 400;

  --text-label: var(--text-sm);
  --text-label--font-weight: 500;

  /*
   * ═══════════════════════════════════════
   * SHADOWS
   * ═══════════════════════════════════════
   */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.04);
  --shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.04), 0 8px 8px -8px rgba(0, 0, 0, 0.04);
  --shadow-md: 0 2px 2px 0 rgba(0, 0, 0, 0.04), 0 8px 16px -4px rgba(0, 0, 0, 0.04);
  --shadow-lg: 0 1px 1px 0 rgba(0, 0, 0, 0.02), 0 4px 8px 0 rgba(0, 0, 0, 0.04);
  --shadow-xl:
    0 1px 1px 0 rgba(0, 0, 0, 0.02), 0 4px 8px -4px rgba(0, 0, 0, 0.04),
    0 16px 24px -8px rgba(0, 0, 0, 0.06);
  --shadow-2xl:
    0 1px 1px 0 rgba(0, 0, 0, 0.02), 0 8px 16px -4px rgba(0, 0, 0, 0.04),
    0 24px 32px -8px rgba(0, 0, 0, 0.06);

  /*
   * ═══════════════════════════════════════
   * ANIMATIONS
   * ═══════════════════════════════════════
   */
  --animate-overlayShow: overlayShow 150ms cubic-bezier(0.16, 1, 0.3, 1);
  --animate-contentShow: contentShow 150ms cubic-bezier(0.16, 1, 0.3, 1);
  --animate-fade-in-from-top: fade-in-from-top 150ms cubic-bezier(0.16, 1, 0.3, 1);
  --animate-fade-out: fade-out 250ms cubic-bezier(0.16, 1, 0.3, 1);

  @keyframes overlayShow {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes contentShow {
    from {
      opacity: 0;
      scale: 0.96;
    }
    to {
      opacity: 1;
      scale: 1;
    }
  }

  @keyframes fade-in-from-top {
    from {
      opacity: 0;
      transform: scale(0.96) translateY(-10px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }

  @keyframes fade-out {
    from {
      opacity: 1;
      scale: 1;
    }
    to {
      opacity: 0;
      scale: 0.98;
    }
  }
}

/* base */

html,
body,
#__nuxt {
  min-height: 100%;
}
